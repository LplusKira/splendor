{
  "counter": {
    ".write": true,
    ".read": true,
    ".validate": "(data.val() === null && newData.val() === 1) || (newData.val() === data.val() + 1)"
  },
  "games": {
    "$game_id": {
      // how can we create new game?
      ".write": "newData.hasChildren(['started', 'players']) || newData.hasChildren(['player_count', 'players'])",

      "players": {
        "$uid": {
          ".validate": "auth.uid != null && auth.uid == $uid",
          "name": {
            ".validate": "auth.displayName == newData.val()"
          },
          "$others": {
            ".validate": false
          }
        }
      },
      "player_count": {
        ".validate": "(data.val() === null && newData.val() === 1) || ((data.val() + 1) === newData.val())"
      },
      "started": {
        ".validate": "(data.val() === null && newData.val() === false) || (data.val() === false && newData.val() === true)"
      },
      "$others": {
        ".validate": false
      }
    }
  },
  "users": {
    "$uid": {
      ".read": "auth != null",
      ".write": "auth.uid == $uid",
      // user infos
      // maybe we can directly put them
      // where we want them
      "username": {
        ".read": true
      },
      "avatarurl": {
        ".read": true
      }
    }
  }
}
